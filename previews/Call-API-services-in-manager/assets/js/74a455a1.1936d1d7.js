"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[541],{8453:(e,o,t)=>{t.d(o,{R:()=>s,x:()=>r});var n=t(6540);const l={},i=n.createContext(l);function s(e){const o=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),n.createElement(i.Provider,{value:o},e.children)}},9561:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"api/oauth/google","title":"google","description":"id: api/oauth/google","source":"@site/docs/api/oauth/google.mdx","sourceDirName":"api/oauth","slug":"/api/oauth/google","permalink":"/area/api/oauth/google","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var l=t(4848),i=t(8453);const s={},r=void 0,c={},a=[{value:"id: api/oauth/google\ntitle: Google OAuth",id:"id-apioauthgoogletitle-google-oauth",level:2},{value:"GET <code>/api/oauth/google</code>",id:"get-apioauthgoogle",level:2},{value:"Response",id:"response",level:3},{value:"Example",id:"example",level:3},{value:"GET <code>/api/oauth/google/callback</code>",id:"get-apioauthgooglecallback",level:2},{value:"Response",id:"response-1",level:3},{value:"Notes",id:"notes",level:3}];function d(e){const o={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.h2,{id:"id-apioauthgoogletitle-google-oauth",children:"id: api/oauth/google\ntitle: Google OAuth"}),"\n",(0,l.jsxs)(o.h2,{id:"get-apioauthgoogle",children:["GET ",(0,l.jsx)(o.code,{children:"/api/oauth/google"})]}),"\n",(0,l.jsx)(o.p,{children:"Initiate the Google OAuth2 login/link flow. This endpoint redirects the user to Google's consent page."}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsx)(o.li,{children:"Authentication: Requires the user to be authenticated (session cookie / JWT) because the server may link the OAuth account to the currently logged-in user."}),"\n",(0,l.jsxs)(o.li,{children:["Optional parameter: ",(0,l.jsx)(o.code,{children:"redirect_to"})," \u2014 path on the client to redirect back to after the OAuth flow completes. When provided, it is encoded into the ",(0,l.jsx)(o.code,{children:"state"})," parameter and restored after callback."]}),"\n"]}),"\n",(0,l.jsx)(o.h3,{id:"response",children:"Response"}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsxs)(o.li,{children:[(0,l.jsx)(o.strong,{children:"302 Found (Redirect)"}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsx)(o.li,{children:"Redirects to Google's consent page."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(o.h3,{id:"example",children:"Example"}),"\n",(0,l.jsx)(o.pre,{children:(0,l.jsx)(o.code,{className:"language-bash",children:'curl -i -X GET "http://localhost:8080/api/oauth/google?redirect_to=/dashboard" \\\n  --cookie "token=your_jwt_token"\n'})}),"\n",(0,l.jsxs)(o.h2,{id:"get-apioauthgooglecallback",children:["GET ",(0,l.jsx)(o.code,{children:"/api/oauth/google/callback"})]}),"\n",(0,l.jsxs)(o.p,{children:["The OAuth callback endpoint used by Google. After successful authentication the server will redirect the user to the original ",(0,l.jsx)(o.code,{children:"redirect_to"})," value (if valid) or to ",(0,l.jsx)(o.code,{children:"/"}),"."]}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsxs)(o.li,{children:["On failure the route redirects to ",(0,l.jsx)(o.code,{children:"/login"}),"."]}),"\n"]}),"\n",(0,l.jsx)(o.h3,{id:"response-1",children:"Response"}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsxs)(o.li,{children:[(0,l.jsx)(o.strong,{children:"302 Found (Redirect)"}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsxs)(o.li,{children:["Successful: Redirects to the restored ",(0,l.jsx)(o.code,{children:"redirect_to"})," path (or ",(0,l.jsx)(o.code,{children:"/"}),")."]}),"\n",(0,l.jsxs)(o.li,{children:["Failure: Redirects to ",(0,l.jsx)(o.code,{children:"/login"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(o.h3,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(o.ul,{children:["\n",(0,l.jsxs)(o.li,{children:["The server uses a URL-safe encoded JSON in the ",(0,l.jsx)(o.code,{children:"state"})," parameter to preserve the ",(0,l.jsx)(o.code,{children:"redirect_to"})," value. Example ",(0,l.jsx)(o.code,{children:"state"})," value:"]}),"\n"]}),"\n",(0,l.jsx)(o.pre,{children:(0,l.jsx)(o.code,{className:"language-js",children:"encodeURIComponent(JSON.stringify({ redirect_to: '/dashboard' }))\n"})})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,l.jsx)(o,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);